<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="./vdom.js"></script>
  <script src="./diff.js"></script>
</head>

<body>
  <button id="patch">patch 更新</button>
  <script>
    const vdom1 = element('ul', { id: 'list', }, [
      element('li', { class: 'chapter' }, ['chapter1']),
      element('li', { class: 'chapter' }, ['chapter2']),
      element('li', { class: 'chapter' }, ['chapter3']),
    ]);
    console.log('vdom1', vdom1)
    const html = vdom1.render()
    renderDom(html, document.body)


    document.querySelector('#patch').onclick = function () {
      console.log(1)
      const vdom2 = element('ul', { id: 'list2', class: 'list2' }, [
        element('ol', { class: 'chapter2' }, ['chapter4']),
        element('li', { class: 'chapter2' }, ['chapter5']),
        element('li', { class: 'chapter2' }, ['chapter6']),
        element('li', { class: 'chapter2' }, ['chapter7']),
      ]);


      console.log('vdom2', vdom2)

      const patches = diff(vdom1, vdom2);
      patch(html, patches)
    }
  </script>
</body>

</html>

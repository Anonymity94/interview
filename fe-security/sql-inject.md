# SQL 注入

## 简介

原本要执行的语句错误的拼接了用户输入的语句，导致了代码的注入。

## 防范

- 不要相信用户的任何输入，避免直接拼接 sql
- 检查字段类型，对用户的输入进行校验
- 使用参数化的 sql 语句，利用预编译机制
  语句是语句，参数是参数，参数的值没办法改变语句的语义。
- 使用数据库的安全函数，对特殊字符进行编码处理
- 重要的信息进行加密，不要放置明文
- sql 层的错误尽量少的提示，使用自定义的错误信息对原始错误信息进行包装
- 数据库权限最小化，不用直接使用管理员权限连接数据库